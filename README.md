# AngularStarterKit

This project was generated with [Angular CLI](https://github.com/angular/angular-cli) version 1.4.5.

## Setup

You need the angular cli and yarn. Run `npm i -g @angular/cli yarn` to install it. After this run `yarn install` to download the node_modules. You may need to run `yarn add -S @angular/cli` to update the local package to the newest version. Then you can just start hacking by running: `ng serve`.

## Folder structure & how to angular guide

### Environments

Environments are set to @app and @env in the root tsconfig.json file for easier imports. The environments folder should contain the different environment keys and urls for staging and production environments. The environment variables can then be accessed via `import { environment } from '@env/environment';`.

### Core

The core consists of
- Private modules only to be imported by core.module.ts.
- Guards
- Services

The core module should only be imported by AppModule. The only thing you should re-use of the core is guards and services. You can import a service like this: `import {Service} from '@app/core/services';`. The same is with guards.

#### Modules

If abstraction needed, create any modules to the core/modules folder and import the module only in core.module.ts.

#### Services

Services should be generated by: `ng g s core/services/[servicename]`. Services should be added to providers in the core.module.ts file and nowhere else. Further they should only be imported to a feature component only. If you are importing a service to a shared component you should make a feature out of it. You should also add all services to the index.ts file in the services folder.

#### Guards

Guards should be generated by: `ng g g core/guards/[guardname]`. Guards should be added to providers in the core.module.ts file and nowhere else. Further they should only be imported to a feature module router only. You should also add all guards to the index.ts file in the guards folder.

### Views

The views folder should only contain routeable view modules genereated by: `ng g m views/[viewname]-view && ng g c views/[viewname]-view`. They consist of a module and a component. The module should always have a `RouterModule.forChild()`. If it does not, you should move the abstraction to either features or shared/components. Views should only contain features. No component declarations should be made. If you are declaring a component in a view, make a feature and encapsulate your component inside.

### Features

The features folder should only contain re-usable feature modules generated by: `ng g m features/[featurename] && ng g c features/[featurename]`. They consist of a module and a component. The module should never be used as a route. Features should should only be consumed by views and only contain modules from the shared folder. Services should be only consumed in component constructors as injected types. You should add an index.ts file to all features and `export * from './the.module;` in it.

Eg. How to use features: Create a holy-feature and a moly-feature in features. Create index.ts files in each new folder and export *. Import the features in a view of your choise! You could also import the divine-module from the @app/shared/modules/divine.

### Shared

The shared folder should only contain re-usable components `ng g c shared/components/[componentname]`, directives `ng g d shared/directives/[directivename]`, modules `ng g m shared/modules/[modulename]` and pipes `ng g p shared/pipes/[pipename]`. Any of the items should only be consumed by feature modules via any of the shared/modules. None of the components, directives or pipes should implement any component, directive or pipe. Neither should they be imported by any other component except a shared module. If they do make a feature out of it. Each of the exportable modules should be added to the index.ts file in their respective module folders. Eg.: `export * from './the.module` in the modules/the/index.ts file.

Eg. How to use pipes: Create a holy-pipe and a moly-pipe in shared/pipes. Create a divine-module in shared/modules. Import AND export the holy- and moly-pipe in the divine-module. Make an index.ts file in the divine-module and export *. Import the divine-module in a feature of your choise!

### Types

The types folder should only contain re-usable classes `ng g class types/classes/[classname]`, enums `ng g e types/enums/[enumname]` and interfaces `ng g i types/interfaces/[interfacename]`. Any of them could be imported anywhere in the whole project. Each of the exportables should be added to the index.ts file in their respective folders. Eg.: `export * from './the.interface` in the pipes/index.ts.

### Assets

Any fonts, custom-elements, images should be here. The assets folder will be copied by build to the root of the build.

### Firebase

This example contains an AuthService and an IsAuthenticatedGuard. The guard is not implemented in any routes yet. You should add firebaseConfig in the environment file. The core/modules/firebase FirebaseModule could be extended with realtime db etc. It currently holds the Firestore and Auth.

### Material

This example contains a ready setup of @angular/material. You should upgrade the shared/modules/custom-material CustomMaterialModule by importing and exporting the wanted material modules that should be in a feature.

Change the theme in the root styles.scss file.

Hammer.js has been set in main.ts.

Also the browser animations module has been required in the CoreModule.

## Development server

Run `ng serve` for a dev server. Navigate to `http://localhost:4200/`. The app will automatically reload if you change any of the source files.

## Code scaffolding

Run `ng generate component component-name` to generate a new component. You can also use `ng generate directive|pipe|service|class|guard|interface|enum|module`.

## Build

Run `ng build` to build the project. The build artifacts will be stored in the `dist/` directory. Use the `-prod` flag for a production build.

## Running unit tests

Run `yarn test` to execute the unit tests via [Karma](https://karma-runner.github.io). Or `yarn test:watch` in watch mode.

## Running end-to-end tests

Run `ng e2e` to execute the end-to-end tests via [Protractor](http://www.protractortest.org/).

## Further help

To get more help on the Angular CLI use `ng help` or go check out the [Angular CLI README](https://github.com/angular/angular-cli/blob/master/README.md).
